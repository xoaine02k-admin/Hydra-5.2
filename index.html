<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HYDRA 5.4</title>

<style>
*{box-sizing:border-box;}

body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#14161c,#1c1f26,#20242e);
    background-size:200% 200%;
     /* animation:bgMove 14s ease infinite;  */
    color:white;
    overflow-x:hidden;
}

@keyframes bgMove{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

/* PARTICLES */
#particles{
    position:fixed;
    inset:0;
    z-index:-1;
}

/* HEADER */
.header{
    position:fixed;
    top:14px;
    left:50%;
    transform:translateX(-50%);
    width:92%;
    max-width:1100px;

    height:60px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 22px;

    background:rgba(35,39,51,0.78);
   

    border-radius:24px;
    border:1px solid rgba(111,168,255,0.18);

    box-shadow:
    0 8px 22px rgba(0,0,0,0.35),
    0 0 12px rgba(111,168,255,0.06);

    transition:
    transform .35s cubic-bezier(.22,1,.36,1),
    opacity .25s ease,
    background .2s,
    box-shadow .2s;

    overflow:hidden; /* üëà th√™m */
    z-index:1000;
}

/* SHINE EFFECT */
.header::before{
    content:"";
    position:absolute;
    top:0;
    left:-60%;
    width:40%;
    height:100%;

    background:linear-gradient(
        120deg,
        transparent,
        rgba(255,255,255,0.25),
        transparent
    );

    transform:skewX(-25deg);
    animation:shineMove 5s infinite;
}

@keyframes shineMove{
    0%{ left:-60%; }
    100%{ left:120%; }
}
/* Hi·ªáu ·ª©ng glow ch·ªØ HYDRA */
.header .right b{
    background: linear-gradient(90deg,#6fa8ff,#9b8cff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing:1px;
}

/* N√∫t T·ªïng qu√°t m·ªÅm h∆°n */
.header .left{
    cursor:pointer;
    font-weight:600;
    padding:8px 14px;
    border-radius:14px;
    transition:0.1s ease;
}

.header .left:hover{
    background:rgba(111,168,255,0.15);
    transform:translateY(-2px);
}

.version{
    font-size:12px;
    opacity:0.6;
}
.overlay{
    position:fixed;inset:0;
    background:rgba(0,0,0,0.5);
    opacity:0;visibility:hidden;
    transition:0.3s;
    z-index:900;
}
.overlay.active{opacity:1;visibility:visible;}

.menu{
    position:fixed;

    top:14px;
    left:14px;

    width:230px;
    height:calc(100% - 28px);

    background:rgba(32,36,46,0.95);
  

    border-radius:24px;
    border:1px solid rgba(111,168,255,0.12);

    box-shadow:0 20px 40px rgba(0,0,0,0.6);

    padding-top:80px;
    padding-bottom:20px;

    transform:translateX(-120%); /* üëà THI·∫æU C√ÅI N√ÄY */
    transition:transform 0.22s cubic-bezier(.25,.8,.25,1);
    will-change: transform;

    z-index:950;
}

.menu.active{
    transform:translateX(0);
}

.menu li{
    padding:14px 18px;
    margin:8px 14px;
    border-radius:16px;
    transition:0.2s ease;
}

.menu li:hover{
    background:rgba(111,168,255,0.15);
    transform:translateX(6px);
    color:#6fa8ff;
}

/* CONTENT */
.content{
    margin-top:70px;
    padding:20px;
    min-height:100vh;
    transition:opacity 0.35s ease, transform 0.35s ease;
}

/* PAGE TRANSITION */
.page-exit{
    opacity:0;
    transform:translateY(15px);
}
.page-enter{
    opacity:0;
    transform:translateY(-15px);
}

/* CARD */
.card{
    background:rgba(35,39,51,0.85);
    
    padding:18px;
    border-radius:14px;
    margin-top:18px;
    border:1px solid rgba(111,168,255,0.1);
    cursor:pointer;
    transition:all 0.35s cubic-bezier(.25,.8,.25,1);
}
.card:hover{
    transform:translateY(-6px) scale(1.02);
    border-color:#6fa8ff;
    box-shadow:0 10px 30px rgba(111,168,255,0.2);
}

/* BACK */
.back-btn{
    position:fixed;
    bottom:25px;
    left:20px;
    padding:9px 15px;
    background:rgba(35,39,51,0.9);
    border:1px solid rgba(111,168,255,0.15);
    border-radius:30px;
    font-size:14px;
    cursor:pointer;
    transition:0.3s;
}
.back-btn:hover{
    box-shadow:0 5px 20px rgba(111,168,255,0.3);
}

/* SYSTEM MODAL */
.system-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:2000;
    
    animation:fadeIn 0.3s ease;
}

.system-box{
    background:rgba(35,39,51,0.95);
    padding:25px;
    width:85%;
    max-width:400px;
    border-radius:18px;
    border:1px solid rgba(111,168,255,0.2);
    box-shadow:0 15px 40px rgba(0,0,0,0.6);
    animation:popUp 0.3s ease;
}

@keyframes fadeIn{
    from{opacity:0}
    to{opacity:1}
}
@keyframes popUp{
    from{transform:scale(0.9);opacity:0}
    to{transform:scale(1);opacity:1}
}

.close-system{
    margin-top:18px;
    text-align:center;
    cursor:pointer;
    color:#6fa8ff;
}

/* MINI CHAT BAR */
.chat-bar{
   overflow:hidden;
    position:fixed;
    top:18px;
    left:50%;
    transform:translateX(-50%);
    width:180px;
    height:36px;

    background:rgba(35,39,51,0.9);
    border:1px solid rgba(111,168,255,0.2);
    border-radius:20px;

    display:flex;
    align-items:center;
    justify-content:center;

    font-size:13px;
    cursor:pointer;
    z-index:1100;

    transition:
    transform .35s cubic-bezier(.22,1,.36,1),
    opacity .25s ease,
    box-shadow .25s;
    
}

.chat-bar::before{
    content:"";
    position:absolute;
    top:0;
    left:-60%;
    width:40%;
    height:100%;

    background:linear-gradient(
        120deg,
        transparent,
        rgba(255,255,255,0.25),
        transparent
    );

    transform:skewX(-25deg);
    animation:shineMove 5s infinite;
}

.chat-bar b{
    background: linear-gradient(90deg,#6fa8ff,#9b8cff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing:1px;
    font-weight:600;
}

.chat-bar:hover{
    box-shadow:0 0 15px rgba(111,168,255,0.4);
}

.chat-bar.expand{
    transform:translateX(-50%) scale(1.15);
}

/* header thu nh·ªè */
.header.compact{
    transform:translate(-50%,-120%) scale(.85);
    opacity:0;
    pointer-events:none;
}

.header.open{
    backdrop-filter: blur(22px);
}

.chat-bar:active{
    transform:translateX(-50%) scale(.95);
}

.header.open{
    box-shadow:
    0 10px 30px rgba(0,0,0,0.45),
    0 0 24px rgba(111,168,255,0.18);
}

.chat-layout{
    position:fixed;
    top:70px;          /* d∆∞·ªõi header */
    left:0;
    right:0;
    bottom:0;

    display:flex;
    flex-direction:column;
}

/* v√πng tin nh·∫Øn cu·ªôn */
.chat-messages{
    flex:1;
    overflow-y:auto;
    padding:15px;
    padding-bottom:90px;
    scroll-behavior:smooth;
    scrollbar-width:none;
}

/* m·ªói tin nh·∫Øn */
.msg{
    background:rgba(111,168,255,0.15);
    border:1px solid rgba(111,168,255,0.2);
    padding:10px 14px;
    border-radius:14px;
    margin:6px 0;
    width:fit-content;
    max-width:80%;
}

.chat-input-bar{
    position:fixed;
    left:0;
    right:0;

    bottom:calc(env(safe-area-inset-bottom,0px));
    
    display:flex;
    gap:10px;
    padding:12px;
    padding-bottom:calc(12px + env(safe-area-inset-bottom,0px));

    background:transparent;     /* ƒë·ªìng b·ªô n·ªÅn */
    border:none;                /* b·ªè ƒë∆∞·ªùng k·∫ª */
}

/* √¥ nh·∫≠p */
.chat-input-bar input{
    flex:1;
    padding:12px 16px;
    border-radius:22px;
    border:none;
    outline:none;
    background:#2a2f3a;
    color:white;
    transition:all .18s ease;
}

/* khi b·∫•m v√†o input */
.chat-input-bar input:focus{
    background:#303645;
    box-shadow:0 0 0 2px rgba(111,168,255,0.25);
}

/* n√∫t g·ª≠i */
.chat-input-bar button{
    padding:12px 18px;
    border:none;
    border-radius:20px;
    background:#6fa8ff;
    color:white;
    cursor:pointer;
    font-weight:600;
    transition:all .18s ease;
}

/* hover n√∫t */
.chat-input-bar button:hover{
    transform:translateY(-1px);
    box-shadow:0 6px 16px rgba(111,168,255,0.35);
}

.hideHome{
    opacity:0;
    pointer-events:none;
    transform:scale(.9);
}

.chat-topbar{
    position:fixed;
    top:18px;
    left:14px;
    z-index:900;
}

.home-icon-fixed{
    position:fixed;
    top:18px;      /* ngang thanh HYDRA mini */
    left:14px;

    width:40px;
    height:40px;

    display:flex;
    align-items:center;
    justify-content:center;

    background:rgba(35,39,51,0.9);
    border:1px solid rgba(111,168,255,0.2);
    border-radius:12px;

    font-size:18px;
    cursor:pointer;
    z-index:1050;

    transition:.25s;
}

.home-icon-fixed:hover{
    transform:translateY(-2px);
    box-shadow:0 6px 18px rgba(111,168,255,0.25);
}

.home-icon-fixed:active{
    transform:scale(.92);
}

</style>
</head>
<body>

<canvas id="particles"></canvas>

<div class="header">
    <div class="left" onclick="toggleMenu()">üí† T·ªïng qu√°t</div>
    <div class="right">
        <b>HYDRA</b>
        <div class="version">Phi√™n b·∫£n: 5.4</div>
    </div>
</div>

<div class="overlay" id="overlay"></div>

<div class="menu" id="menu">
<ul>
<li onclick="menuAction(()=>loadHome())">Trang ch·ªß</li>
<li onclick="menuAction(()=>loadProfile())">H·ªì s∆°</li>
<li onclick="menuAction(()=>loadSettings())">C√†i ƒë·∫∑t</li>
<li onclick="menuAction(()=>loadSupport())">G√≥p √Ω & b√°o c√°o</li>
<li onclick="closeMenu()">ƒêƒÉng xu·∫•t</li>
</ul>
</div>

<div class="content" id="contentArea"></div>
<div id="footerContainer"></div>

<script>
  const contentArea = document.getElementById("contentArea");
const footerContainer = document.getElementById("footerContainer");
const menu = document.getElementById("menu");
const overlay = document.getElementById("overlay");
overlay.addEventListener("click", ()=>{
    closeMenu();

    if(chatBar && header.classList.contains("open")){
        header.classList.remove("open");
        header.classList.add("compact");

        chatBar.style.opacity="1";
        chatBar.style.pointerEvents="auto";
    }
});
const header = document.querySelector(".header");
let chatBar=null;

/* M·ªü / ƒë√≥ng menu */
function toggleMenu(){
    menu.classList.toggle("active");
    overlay.classList.toggle("active");
}

function closeMenu(){
    menu.classList.remove("active");
    overlay.classList.remove("active");
}

/* Khi b·∫•m m·ª•c trong menu */
function menuAction(action){
    closeMenu();
    setTimeout(()=>{
        action();
    },10);
}

/* TRANSITION */
function smoothChange(render){
    const content=document.getElementById("contentArea");
    content.classList.add("page-exit");

    setTimeout(()=>{
        render();
        content.classList.remove("page-exit");
        content.classList.add("page-enter");
        requestAnimationFrame(()=>{
            content.classList.remove("page-enter");
        });
    },200);
}


/* BACK */
function showBack(){
    footerContainer.innerHTML=
    `<div class="back-btn" onclick="loadHome()">‚Üê Trang ch·ªß</div>`;
}
function hideBack(){
    footerContainer.innerHTML="";
}

/* HOME */
function loadHome(){
smoothChange(()=>{
  const btn = document.querySelector(".home-icon-fixed");
if(btn) btn.remove();
contentArea.innerHTML=`
<h2>T√¥i l√† HYDRA 5.4</h2>
<p>H·ªá th·ªëng h·ªó tr·ª£ h·ªçc t·∫≠p v√† gi·∫£i tr√≠.</p>

<div class="card" onclick="loadStudy()">üìò H·ªçc t·∫≠p</div>
<div class="card" onclick="loadEntertainment()">üéÆ Gi·∫£i tr√≠</div>
<div class="card" onclick="loadChat()">üí¨ Tr√≤ chuy·ªán</div>
<div class="card" onclick="loadSystem()">‚öôÔ∏è Qu·∫£n l√≠ h·ªá th·ªëng</div>
`;
hideBack();
restoreHeader();
closeMenu();
});
}


/* STUDY */
function loadStudy(){
smoothChange(()=>{
contentArea.innerHTML=`
<h2>üìò H·ªçc t·∫≠p</h2>

<div class="card" onclick="openSubject('To√°n')">‚ûó To√°n</div>

<div class="card" onclick="openSubject('Ng·ªØ VƒÉn')">üìñ Ng·ªØ VƒÉn</div>

<div class="card" onclick="openSubject('Ti·∫øng Anh')">üåç Ti·∫øng Anh</div>

<div class="card" onclick="toggleScience()">üî¨ Khoa h·ªçc t·ª± nhi√™n</div>

<div id="scienceBox" style="display:none; margin-left:10px;">
    <div class="card" onclick="openSubject('H√≥a h·ªçc')">üß™ H√≥a h·ªçc</div>
    <div class="card" onclick="openSubject('V·∫≠t l√≠')">‚ö° V·∫≠t l√≠</div>
    <div class="card" onclick="openSubject('Sinh h·ªçc')">üå± Sinh h·ªçc</div>
</div>

<div class="card" onclick="openSubject('L·ªãch s·ª≠ - ƒê·ªãa l√≠')">üó∫Ô∏è L·ªãch s·ª≠ - ƒê·ªãa l√≠</div>
`;
showBack();
});
}

/* ENTERTAINMENT */
function loadEntertainment(){
smoothChange(()=>{
contentArea.innerHTML=`<h2>üéÆ Gi·∫£i tr√≠</h2>`;
showBack();
});
}

/* CHAT */
 function loadChat(){
  smoothChange(()=>{

   contentArea.innerHTML = `
        <div class="chat-layout">
            <div id="chatMessages" class="chat-messages"></div>

            <div class="chat-input-bar">
                <input id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..." />
                <button onclick="sendMsg()">G·ª≠i</button>
            </div>
        </div>
        `;

        // üëá t·∫°o icon home g·∫Øn tr·ª±c ti·∫øp v√†o body
        const oldBtn = document.querySelector(".home-icon-fixed");
        if(oldBtn) oldBtn.remove();

        const btn = document.createElement("div");
        btn.className = "home-icon-fixed";
        btn.innerHTML = "üè†";
        btn.onclick = loadHome;

        document.body.appendChild(btn);
        
        setTimeout(()=>{
          document.getElementById("chatInput").focus();
},50);

        shrinkHeader();
    });
}

/* SYSTEM MODAL */
function loadSystem(){
let cpu=Math.floor(Math.random()*100);
let ram=Math.floor(Math.random()*100);

const modal=document.createElement("div");
modal.className="system-modal";

modal.innerHTML=`
<div class="system-box">
<h2>‚öôÔ∏è Qu·∫£n l√≠ h·ªá th·ªëng</h2>

<p>CPU: ${cpu}%</p>
<div style="height:8px;background:#1c1f26;border-radius:10px;overflow:hidden;">
<div style="height:100%;width:${cpu}%;background:#6fa8ff;"></div>
</div>

<p style="margin-top:12px;">RAM: ${ram}%</p>
<div style="height:8px;background:#1c1f26;border-radius:10px;overflow:hidden;">
<div style="height:100%;width:${ram}%;background:#6fa8ff;"></div>
</div>

<p style="margin-top:15px;color:#6fa8ff;">
Tr·∫°ng th√°i: Ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh
</p>

<div class="close-system">ƒê√≥ng</div>
</div>
`;

document.body.appendChild(modal);

modal.addEventListener("click",e=>{
if(e.target.classList.contains("system-modal") ||
   e.target.classList.contains("close-system")){
modal.remove();
}
});
}

/* PROFILE */
function loadProfile(){
smoothChange(()=>{
contentArea.innerHTML="<h2>H·ªì s∆°</h2>";
showBack();
});
}

/* SETTINGS */
function loadSettings(){
smoothChange(()=>{
contentArea.innerHTML="<h2>C√†i ƒë·∫∑t</h2>";
showBack();
});
}

/* SUPPORT */
function loadSupport(){
smoothChange(()=>{
contentArea.innerHTML=`
<h2>üì© G√≥p √Ω & b√°o c√°o</h2>
<p>B·∫°n c√≥ th·ªÉ g·ª≠i g√≥p √Ω ƒë·ªÉ HYDRA c·∫£i thi·ªán h·ªá th·ªëng.</p>

<div class="card" onclick="openFeedback()">üì® G·ª≠i g√≥p √Ω</div>
<div class="card" onclick="reportBug()">üêû B√°o l·ªói h·ªá th·ªëng</div>
`;
showBack();
});
}

function openFeedback(){
alert("T√≠nh nƒÉng g√≥p √Ω s·∫Ω s·ªõm ƒë∆∞·ª£c m·ªü üòÑ");
}

function reportBug(){
alert("ƒê√£ ghi nh·∫≠n b√°o l·ªói (demo)");
}


/* PARTICLES */
const canvas=document.getElementById("particles");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
for(let i=0;i<70;i++){
particles.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:Math.random()*2+1,
dx:(Math.random()-0.5)*0.4,
dy:(Math.random()-0.5)*0.4
});
}

function animateParticles(){
ctx.clearRect(0,0,canvas.width,canvas.height);

particles.forEach(p=>{
p.x+=p.dx;
p.y+=p.dy;

if(p.x<0||p.x>canvas.width)p.dx*=-1;
if(p.y<0||p.y>canvas.height)p.dy*=-1;

ctx.beginPath();
ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
ctx.fillStyle="rgba(111,168,255,0.5)";
ctx.fill();
});

requestAnimationFrame(animateParticles);
}
animateParticles();

function shrinkHeader(){

    if(chatBar) return;

    header.classList.add("compact");

    chatBar=document.createElement("div");
    chatBar.className="chat-bar";
    chatBar.innerHTML="<b>HYDRA</b>";

    document.body.appendChild(chatBar);   // üëà ch·ªâ th√™m d√≤ng n√†y

    document.removeEventListener("click", outsideClick);
    document.addEventListener("click", outsideClick);

    chatBar.onclick = (e)=>{
        e.stopPropagation();

        header.classList.remove("compact");
        header.classList.add("open");

        chatBar.style.opacity="0";
        chatBar.style.pointerEvents="none";

        document.addEventListener("click", outsideClick);
    };

    header.onclick=(e)=>e.stopPropagation();

    setTimeout(()=>{
        document.addEventListener("click",outsideClick);
    },0);
}

function outsideClick(e){

    // n·∫øu header ƒëang m·ªü v√† b·∫•m ngo√†i header + chatBar
    if(header.classList.contains("open") &&
       !header.contains(e.target) &&
       (!chatBar || !chatBar.contains(e.target))){

        header.classList.remove("open");
        header.classList.add("compact");

        if(chatBar){
            chatBar.style.opacity="1";
            chatBar.style.pointerEvents="auto";
        }
    }
}

function restoreHeader(){
    header.classList.remove("compact");

    if(chatBar){
        chatBar.remove();
        chatBar=null;
    }

    document.removeEventListener("click",outsideClick);
    header.classList.remove("open");
}

function sendMsg(){
    const input=document.getElementById("chatInput");
    const box=document.getElementById("chatMessages");

    if(!input.value.trim()) return;

    const msg=document.createElement("div");
    msg.className="msg";
    msg.textContent=input.value;

    box.appendChild(msg);
    input.value="";

    // auto scroll xu·ªëng tin m·ªõi nh·∫•t
    box.scrollTop = box.scrollHeight;
}

window.addEventListener("resize",()=>{
    const box=document.getElementById("chatMessages");
    if(box) box.scrollTop = box.scrollHeight;
});

function toggleScience(){
    const box = document.getElementById("scienceBox");
    if(!box) return;
    box.style.display = box.style.display==="none" ? "block" : "none";
}

function openSubject(name){
    smoothChange(()=>{
        contentArea.innerHTML=
        `<h2>üìò ${name}</h2>
         <p>ƒêang ph√°t tri·ªÉn n·ªôi dung...</p>`;
        showBackStudy();   // üëà d√πng n√∫t quay v·ªÅ H·ªçc t·∫≠p
    });
}

function showBackStudy(){
    footerContainer.innerHTML=
    `<div class="back-btn" onclick="loadStudy()">‚Üê H·ªçc t·∫≠p</div>`;
}

function resizeCanvas(){
    canvas.width=window.innerWidth;
    canvas.height=window.innerHeight;
}
window.addEventListener("resize",resizeCanvas);
resizeCanvas();

document.addEventListener("keydown",(e)=>{
    if(e.key==="Enter"){
        const input=document.getElementById("chatInput");
        if(input && document.activeElement===input){
            sendMsg();
        }
    }
});

/* INIT */
loadHome();

</script>
</body>
</html>
